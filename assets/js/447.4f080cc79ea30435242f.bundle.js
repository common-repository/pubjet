"use strict";(self.webpackChunkpubjet=self.webpackChunkpubjet||[]).push([[447],{3901:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ar});var r=n(5978),o=n(7294);const a="mF0ELrBPqJ9R6bt1N3mw",i="EgiRffiVoo1OIiIGHVXF";var c=n(6818);const u="Waifsj0QArJ6cenC2ORw",l="GaijpHD9nVEe6WmioGes",s="b2cT0RhtjnSgRmM_XsCN",f="P2JI1nD4QKevGQLJ8lq9",p="P4mUb950Vvpw0B6ozXbO";var y=n(6373);const h=function(e){return o.createElement("div",{className:f},o.createElement("div",{className:u},o.createElement("img",{className:l,src:"".concat((0,y.gx)(),"logo.png")}),o.createElement("a",{href:"https://triboon.net",target:"_blank"},o.createElement("img",{className:s,src:"".concat((0,y.gx)(),"triboon.png")})),o.createElement("span",{className:p},o.createElement("span",null,(0,y.Yg)("version"),":"),"Â ",o.createElement("span",null,pubjet_params.pversion))))};var m=n(875),d=n(5187),v=n(2104),b=n(5731);const g={formWrapper:"DMLhAtC0b_6b4KJ2kQQQ",button:"iruwYGBZVjciz94V1ET2"};var w=n(7784),O=n(5697),E=n.n(O);const j="IWISJuGoWSA9YeFFxzZp";var P=function(e){if(e.saved)return o.createElement(w.Z,{showIcon:!0,type:"success",message:(0,y.Yg)("settings-saved"),className:j})};P.propTypes={saved:E().bool},P.defaultProps={saved:!1};const S=P;var k=n(6151),_=n(3807),x=n(9879),N=n(4679);const Z="BI_kVeFcsJipDv8yh43p",T="MiFWbdOnXncQc_nryfIt";var C=n(5514),Y=n(1127),L=n(1870),I=n(7085);const R="J_DGih9MJNe_29M4oxvO",A="ZucdQuY8BScOAMSm6dYw",B="Rpnny5oeuiGsY2X9p_gk";var D=function(e){var t=e.checkToken;if(t&&void 0!==t&&0!==Object.keys(t).length){var n=e.checkToken,r=n.checked,a=n.checking,i=n.valid,c=e.checkToken.payload,u=c.website_id,l=c.website_url;if(!r&&!a)return null;if(a)return o.createElement("div",{className:A},o.createElement(I.Z,{spin:!0,style:{fontSize:"18px",marginBottom:"15px"}}));return o.createElement("div",{className:R},o.createElement(w.Z,{type:a?"info":i?"success":"error",showIcon:!0,description:i?o.createElement(Y.Z,null,o.createElement("span",null,(0,y.Yg)("valid-token")),u&&o.createElement(_.Z,{title:"".concat(u," - ").concat(l)},o.createElement(L.Z,{className:B}))):(0,y.Yg)("invalid-token")}))}};D.defaultProps={checkToken:{}};const G=(0,c.$j)((function(e){return{checkToken:e[(0,C.YO)()].checkToken}}))(D);var F=n(9263);function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function M(){return M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M.apply(this,arguments)}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,U(r.key),r)}}function $(e,t){return $=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$(e,t)}function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=q(e);if(t){var o=q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return K(e)}(this,n)}}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}function V(e,t,n){return(t=U(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e){var t=function(e,t){if("object"!=z(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==z(t)?t:String(t)}const W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$(e,t)}(i,e);var t,n,r,a=J(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return V(K(e=a.call.apply(a,[this].concat(n))),"fetch",(function(){})),V(K(e),"columns",(function(){})),V(K(e),"source",(function(){return[]})),V(K(e),"isLoading",(function(){return e.state.loading})),V(K(e),"table",(function(){return o.createElement(F.Z,M({rowKey:"id",columns:e.columns(),dataSource:e.source(),pagination:e.getPaginationConfig(),loading:e.isLoading()},e.tableProps()))})),V(K(e),"isExpandable",(function(e){return!1})),V(K(e),"expandableElem",(function(e){})),V(K(e),"expandableProps",(function(){return{}})),V(K(e),"tableProps",(function(){return{}})),e}return t=i,(n=[{key:"componentDidMount",value:function(){this.fetch()}},{key:"render",value:function(){return this.table()}}])&&Q(t.prototype,n),r&&Q(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(b.Z),X="GVajLTfXqe6Cd_Lh6Q0y";var H=n(7272),ee=n(3279),te=n.n(ee);const ne="VL2GQGBFBMDvADTm5IkX";var re=["fetchOptions","debounceTimeout"];function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oe.apply(this,arguments)}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ce(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const ue=function(e){var t=e.fetchOptions,n=e.debounceTimeout,r=void 0===n?800:n,a=ce(e,re),i=ae((0,o.useState)(!1),2),c=i[0],u=i[1],l=ae((0,o.useState)([]),2),s=l[0],f=l[1],p=(0,o.useRef)(0),y=(0,o.useMemo)((function(){return te()((function(e){p.current+=1;var n=p.current;f([]),u(!0),t(e).then((function(e){console.log(e),n===p.current&&(f(e),u(!1))}))}),r)}),[t,r]);return(0,o.useEffect)((function(){t("").then((function(e){return f(e)}))}),[]),o.createElement(H.Z,oe({loading:c,filterOption:!1,onSearch:y,notFoundContent:c?o.createElement(m.Z,{size:"default",className:ne}):null},a,{options:s}))};function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},le.apply(this,arguments)}var se=(0,y.FP)(),fe=function(e){var t=e.selectProps,n=e.taxonomy,r=e.placeholder,a=e.value,i=e.onChange,c=e.className;return o.createElement(ue,le({mode:"single",showSearch:!0,value:a||void 0,placeholder:r,onChange:i,className:"".concat(c," ").concat(X),fetchOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return se.get((0,y.$g)(),{params:{action:"pubjet-find-terms",search:e,taxonomy:n}}).then((function(e){return e.payload}))}},t))};fe.propTypes={value:E().oneOfType([E().array,E().string]),onChange:E().func,selectProps:E().object,placeholder:E().string,className:E().string,taxonomy:E().oneOfType([E().string,E().array])},fe.defaultProps={value:!1,placeholder:!1,className:"",selectProps:{},taxonomy:"",onChange:function(){}};const pe=fe;function ye(e){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(e)}function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,we(r.key),r)}}function me(e,t){return me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},me(e,t)}function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=be(e);if(t){var o=be(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===ye(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ve(e)}(this,n)}}function ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function be(e){return be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},be(e)}function ge(e,t,n){return(t=we(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function we(e){var t=function(e,t){if("object"!=ye(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ye(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ye(t)?t:String(t)}var Oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&me(e,t)}(i,e);var t,n,r,a=de(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ge(ve(e=a.call.apply(a,[this].concat(n))),"state",{error:!1,loading:!1}),ge(ve(e),"columns",(function(){return[{title:(0,y.Yg)("title"),render:function(e,t,n){return t.title}},{title:(0,y.Yg)("category"),align:"center",render:function(e,t,n){return o.createElement(pe,{taxonomy:"category",value:t.category,onChange:function(e){(0,C.WN)(t.id,e)}})}}]})),ge(ve(e),"source",(function(){return e.props.data})),e}return t=i,n&&he(t.prototype,n),r&&he(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(W);const Ee=(0,c.$j)((function(e){return{data:e[(0,C.YO)()].pricingPlans}}))(Oe);function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},je.apply(this,arguments)}var Pe=N.Z.TextArea;const Se=(0,c.$j)((function(e){return{options:e.options}}))((function(e){var t,n,r=e.options,a=r.token,i=r.defaultCategory,c=r.pricingPlans;return o.createElement(k.Z,{layout:"vertical",autoComplete:"off"},o.createElement(k.Z.Item,{label:(0,y.Yg)("triboon-token")},(t={name:"token",value:a,className:Z,autoFocus:!0,onChange:function(e){(0,C.OB)("token",e.target.value)},suffix:a?o.createElement(_.Z,{title:(0,y.Yg)("check-token")},o.createElement(x.Z,{className:T,onClick:C.ni})):null},void 0!==(n=t.textarea)&&n?o.createElement(Pe,t):o.createElement(N.Z,je({size:"large"},t)))),o.createElement(G,null),o.createElement(k.Z.Item,{label:(0,y.Yg)("default-category")},o.createElement(pe,{taxonomy:"category",value:i,onChange:function(e){(0,C.OB)("defaultCategory",e)}})),c&&c.length>0&&o.createElement(k.Z.Item,{label:(0,y.Yg)("plans-categories")},o.createElement(Ee,null)))}));function ke(e){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(e)}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ye(r.key),r)}}function xe(e,t){return xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xe(e,t)}function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Te(e);if(t){var o=Te(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===ke(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ze(e)}(this,n)}}function Ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Te(e){return Te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Te(e)}function Ce(e,t,n){return(t=Ye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ye(e){var t=function(e,t){if("object"!=ke(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ke(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ke(t)?t:String(t)}var Le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xe(e,t)}(i,e);var t,n,r,a=Ne(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ce(Ze(e=a.call.apply(a,[this].concat(n))),"state",{token:"",debug:!1,error:!1,loading:!1,saving:!1,saved:!1}),Ce(Ze(e),"save",(function(){e.setState({error:!1,saving:!0},(function(){(0,C.oe)().then((function(t){e.setState({saved:!0})})).catch((function(t){e.setState({error:t,saved:!1})})).finally((function(){e.setState({saving:!1})}))}))})),e}return t=i,(n=[{key:"render",value:function(){var e=this.state,t=e.loading,n=e.error;return o.createElement("div",{className:g.container},o.createElement(m.Z,{spinning:t},o.createElement("div",{className:g.formWrapper},o.createElement(Se,null),!n&&o.createElement(S,{saved:this.state.saved}),o.createElement(d.ZP,{className:g.button,type:"primary",block:!0,size:"large",loading:this.state.saving,onClick:this.save,icon:o.createElement(v.Z,null),shape:"square"},(0,y.Yg)("update-settings")))))}}])&&_e(t.prototype,n),r&&_e(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(b.Z);const Ie=(0,c.$j)((function(e){return{options:e.options}}))(Le);var Re=n(7573),Ae=n(3171),Be=n(9165);const De="pfklknuP0YNbCbyiUoZG",Ge="BoQYnDcDQgjx7VWjN1pK",Fe="CNrndcRyTxvIoG7IeVXH",ze="fdNEkZrbiGG30edF5hng";var Me=n(7591),Qe=function(e){var t=e.title,n=e.description,r=e.onConfirm,a=e.onCancel,i=e.okText,c=e.cancelText,u=e.children;return o.createElement(Me.Z,{title:t,description:n,onConfirm:r,onCancel:a,okText:i,cancelText:c,okButtonProps:{danger:!0}},u)};Qe.propTypes={title:E().string,description:E().string,okText:E().string,cancelText:E().string,content:E().element,onConfirm:E().func,onCancel:E().func},Qe.defaultProps={title:(0,y.Yg)("delete"),description:(0,y.Yg)("confirm-delete-data"),okText:(0,y.Yg)("delete"),cancelText:(0,y.Yg)("cancel"),content:o.createElement(d.ZP,{type:"text",danger:!0},(0,y.Yg)("delete")),onConfirm:function(){},onCancel:function(){}};const $e=Qe;function Je(e){return Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Je(e)}function Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,He(r.key),r)}}function qe(e,t){return qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qe(e,t)}function Ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=We(e);if(t){var o=We(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Je(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ue(e)}(this,n)}}function Ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function We(e){return We=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},We(e)}function Xe(e,t,n){return(t=He(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function He(e){var t=function(e,t){if("object"!=Je(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Je(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Je(t)?t:String(t)}var et=(0,y.FP)(),tt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qe(e,t)}(i,e);var t,n,r,a=Ve(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Xe(Ue(e=a.call.apply(a,[this].concat(n))),"state",{text:"",error:!1,loading:!1}),Xe(Ue(e),"handleCopy",(function(){(0,y.zp)(e.state.text)})),Xe(Ue(e),"handleDelete",(function(){e.setState({error:!1,loading:!0},(function(){et.post((0,y.$g)(),{action:"pubjet-delete-debug",security:(0,y.bN)()}).then((function(t){t.success?e.setState({text:""}):(0,y.UW)(t.error)})).catch((function(e){(0,y.UW)(e)})).finally((function(){e.setState({loading:!1})}))}))})),Xe(Ue(e),"input",(function(){return o.createElement(k.Z,{layout:"horizontal",colon:!1},o.createElement(k.Z.Item,{className:"pubjet-mb-1"},e.renderInput({textarea:!0,name:"text",readOnly:!0,rows:12,className:Ge})))})),Xe(Ue(e),"fetch",(function(){e.setState({loading:!0,error:!1},(function(){et.get((0,y.$g)(),{params:{action:"pubjet-get-debug",security:(0,y.bN)()}}).then((function(t){t.success?e.setState({text:t.payload.text}):e.setState({error:t.error})})).catch((function(t){e.setState({error:!0})})).finally((function(){e.setState({loading:!1})}))}))})),Xe(Ue(e),"button",(function(){var t=e.state.text;return o.createElement(Y.Z.Compact,{className:Fe},o.createElement(_.Z,{title:(0,y.Yg)("copy")},o.createElement(d.ZP,{disabled:!t,type:"default",size:"small",icon:o.createElement(Be.Z,null),onClick:e.handleCopy})),o.createElement(_.Z,{title:(0,y.Yg)("reload")},o.createElement(d.ZP,{type:"default",size:"small",icon:o.createElement(x.Z,null),onClick:e.fetch})),o.createElement(_.Z,{title:(0,y.Yg)("delete-log")},o.createElement($e,{title:"",description:(0,y.Yg)("delete-log-confirm"),cancelText:(0,y.Yg)("no"),okText:(0,y.Yg)("yes"),onConfirm:e.handleDelete},o.createElement(d.ZP,{disabled:!t,type:"default",size:"small",icon:o.createElement(Ae.Z,null),buttonProps:{danger:!0}}))))})),Xe(Ue(e),"enable",(function(){var t=e.props.options.debug;return o.createElement(k.Z,{layout:"vertical",colon:!1},o.createElement(k.Z.Item,{className:ze,label:o.createElement(Y.Z,null,o.createElement(Re.Z,{checked:t,onChange:function(e){(0,C.OB)("debug",e),(0,C.oe)()},size:"default"}),o.createElement("span",null,(0,y.Yg)("enable-debugging")))}))})),e}return t=i,(n=[{key:"componentDidMount",value:function(){this.fetch()}},{key:"render",value:function(){var e=this.props.options.debug,t=this.state.loading;return o.createElement(m.Z,{spinning:t},o.createElement("div",{className:De},this.enable(),e&&this.input(),e&&this.button()))}}])&&Ke(t.prototype,n),r&&Ke(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(b.Z);const nt=(0,c.$j)((function(e){return{options:e.options}}))(tt);var rt=n(4616);const ot="nyrGyVFRzWvHTn6TAavE",at="qH0P_rEhzokOPmLul6QT",it="DaP33y1xwbL7JBNrOoUd",ct="vuY0biD1HViszbRjrL1Z",ut="BBIlOWMksH_1Qt87TGgI";function lt(){return lt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lt.apply(this,arguments)}var st=function(e){var t=e.className;return o.createElement(w.Z,lt({type:"success",showIcon:!0,message:(0,y.Yg)("settings-saved")},e,{className:"".concat(t," ").concat(ut)}))};st.propTypes={className:E().string},st.defaultProps={className:""};const ft=st;function pt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const ht=(0,c.$j)((function(e){return{options:e.options}}))((function(e){var t=pt((0,o.useState)(!1),2),n=t[0],r=t[1],a=e.options,i=a.uninstallCleanup,c=a.deleteFirstImage,u=a.manualApprove,l=a.useGoogleTranslate,s=a.processDataByQueryString,f=a.metakeys,p=void 0===f?{}:f,h=a.repauthor,m=void 0===h?{}:h,d=function(){r(!0),setTimeout((function(){r(!1)}),2500)};return o.createElement(o.Fragment,null,n&&o.createElement(ft,null),o.createElement(k.Z,{className:ot,layout:"vertical",colon:!1},o.createElement(k.Z.Item,{className:at,label:o.createElement(Y.Z,null,o.createElement(Re.Z,{size:"default",checked:u,onChange:function(e){(0,C.OB)("manualApprove",e),(0,C.oe)(),d()}}),o.createElement(Y.Z,null,o.createElement("span",null,(0,y.Yg)("manual-approve")),o.createElement(_.Z,{title:o.createElement("div",{dangerouslySetInnerHTML:{__html:(0,y.Yg)("manual-approve-hints")}})},o.createElement(L.Z,null))))}),o.createElement(k.Z.Item,{className:at,label:o.createElement(Y.Z,null,o.createElement(Re.Z,{size:"default",checked:c,onChange:function(e){(0,C.OB)("deleteFirstImage",e),(0,C.oe)(),d()}}),o.createElement("span",null,(0,y.Yg)("delete-first-image")))}),o.createElement(k.Z.Item,{className:at,label:o.createElement(Y.Z,null,o.createElement(Re.Z,{size:"default",checked:l,onChange:function(e){(0,C.OB)("useGoogleTranslate",e),(0,C.oe)(),d()}}),o.createElement("span",null,(0,y.Yg)("use-google-translate")))}),o.createElement(k.Z.Item,{className:at,label:o.createElement(Y.Z,null,o.createElement(Re.Z,{size:"default",checked:s,onChange:function(e){(0,C.OB)("processDataByQueryString",e),(0,C.oe)(),d()}}),o.createElement(Y.Z,null,o.createElement("span",null,(0,y.Yg)("pbqs")),o.createElement(_.Z,{title:o.createElement("div",{dangerouslySetInnerHTML:{__html:(0,y.Yg)("pbqs-hints")}})},o.createElement(L.Z,null))),o.createElement("span",null,(0,y.Yg)("pdbq")))}),o.createElement(k.Z.Item,{htmlFor:"",className:at,label:o.createElement(Y.Z,null,o.createElement(Re.Z,{size:"default",checked:p.status,onChange:function(e){var t;(0,C.OB)("metakeys",{status:e,items:null!==(t=p.items)&&void 0!==t?t:[]}),(0,C.oe)(),d()}}),o.createElement("span",null,(0,y.Yg)("define-post-metakeys")),p.status&&o.createElement(rt.Z,{className:it,onClick:function(){(0,C.$J)("metakeys")}}))}),o.createElement(k.Z.Item,{htmlFor:"",className:at,label:o.createElement(Y.Z,null,o.createElement(Re.Z,{size:"default",checked:m.status,onChange:function(e){var t;(0,C.OB)("repauthor",{status:e,authorId:null!==(t=m.authorId)&&void 0!==t&&t}),(0,C.oe)(),d()}}),o.createElement("span",null,(0,y.Yg)("select-rep-author")),m.status&&o.createElement(rt.Z,{className:"".concat(it," ").concat(ct),onClick:function(){(0,C.$J)("repauthor")}}))}),o.createElement(k.Z.Item,{className:at,label:o.createElement(Y.Z,null,o.createElement(Re.Z,{checked:i,onChange:function(e){(0,C.OB)("uninstallCleanup",e),(0,C.oe)(),d()},size:"default"}),o.createElement("span",null,(0,y.Yg)("uninstall")))})))}));var mt=n(7434);const dt="cDK__CEj75alW7U_YJda",vt="j2vOy7cZdLf06eyCUIQ3",bt="LGXhb9eqiVoiOae9njeK",gt="el_reJiQ9hkNhTOGGZMh",wt="ATMtTOIcIGcnDAPYspMB",Ot="Ep3od3Xew9KTV4jdPcur";var Et=n(4173);function jt(e){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jt(e)}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zt(r.key),r)}}function St(e,t){return St=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},St(e,t)}function kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xt(e);if(t){var o=xt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===jt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _t(e)}(this,n)}}function _t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xt(e){return xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xt(e)}function Nt(e,t,n){return(t=Zt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zt(e){var t=function(e,t){if("object"!=jt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jt(t)?t:String(t)}var Tt=(0,y.FP)();const Ct=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&St(e,t)}(i,e);var t,n,r,a=kt(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Nt(_t(e=a.call.apply(a,[this].concat(n))),"state",{payload:{},error:!1,loading:!1}),Nt(_t(e),"handleCheck",(function(){e.setState({error:!1,loading:!0},(function(){Tt.get((0,y.$g)(),{params:{action:"pubjet-check-required-php-modules",security:(0,y.bN)()}}).then((function(t){t.success?e.setState({payload:t.payload}):e.setState({error:t.error})})).catch((function(t){e.setState({error:t})})).finally((function(){e.setState({loading:!1})}))}))})),Nt(_t(e),"alert",(function(){return o.createElement(w.Z,{type:"info",banner:!0,showIcon:!1,description:(0,y.Yg)("required-modules-help"),className:bt})})),Nt(_t(e),"source",(function(){var t=e.state.payload;return[{id:"curl",label:(0,y.Yg)("curl-module"),status:t.curl},{id:"openssl",label:(0,y.Yg)("openssl-module"),status:t.openssl,help:"openssl_encrypt"},{id:"openssl",label:"php_soap",status:t.php_soap}]})),Nt(_t(e),"columns",(function(){var t=e.state.loading;return[{title:(0,y.Yg)("name"),render:function(e,n){return o.createElement(_.Z,{title:n.help},o.createElement("span",{className:"".concat(t?"":n.status?gt:wt)},n.label))}},F.Z.EXPAND_COLUMN,{title:(0,y.Yg)("status"),ellipsis:!0,align:"center",render:function(e,n){return t?o.createElement(I.Z,{spin:!0}):o.createElement(_.Z,{title:n.status?(0,y.Yg)("active"):(0,y.Yg)("deactive")},o.createElement(mt.Z,{color:n.status?"green":"red"}))}}]})),Nt(_t(e),"table",(function(){return o.createElement(F.Z,{rowKey:"id",columns:e.columns(),dataSource:e.source(),pagination:{hideOnSinglePage:!0},className:vt,showHeader:!1})})),Nt(_t(e),"button",(function(){var t=e.state.loading;return o.createElement(Et.Z,{className:Ot,loading:t,onClick:e.handleCheck,icon:o.createElement(x.Z,null),type:"default"},(0,y.Yg)("check-now"))})),e}return t=i,(n=[{key:"componentDidMount",value:function(){this.handleCheck()}},{key:"render",value:function(){return this.state.loading,o.createElement("div",{className:dt},this.alert(),this.table(),this.button())}}])&&Pt(t.prototype,n),r&&Pt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(b.Z);var Yt=n(9101),Lt=490,It=n(1260);function Rt(e){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rt(e)}function At(){return At=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},At.apply(this,arguments)}function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){$t(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jt(r.key),r)}}function Ft(e,t){return Ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ft(e,t)}function zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qt(e);if(t){var o=Qt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Rt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mt(e)}(this,n)}}function Mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qt(e){return Qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qt(e)}function $t(e,t,n){return(t=Jt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jt(e){var t=function(e,t){if("object"!=Rt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Rt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Rt(t)?t:String(t)}var Kt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ft(e,t)}(i,e);var t,n,r,a=zt(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $t(Mt(e=a.call.apply(a,[this].concat(n))),"title",(function(){})),$t(Mt(e),"okText",(function(){})),$t(Mt(e),"cancelText",(function(){return pubjet_params.i18n.cancel})),$t(Mt(e),"content",(function(){})),$t(Mt(e),"isOpen",(function(){return!1})),$t(Mt(e),"handleOk",(function(){e.props.onOk()})),$t(Mt(e),"handleCancel",(function(){e.props.onCancel()})),$t(Mt(e),"modalProps",(function(){return{}})),$t(Mt(e),"getOkProps",(function(){return{}})),$t(Mt(e),"getCancelProps",(function(){return{}})),$t(Mt(e),"handleGoToStep",(function(t){return function(){e.setState({step:t})}})),e}return t=i,(n=[{key:"render",value:function(){var e=this.state,t=e.loading;return e.error,o.createElement(It.Z,At({title:this.title(),open:this.isOpen(),okText:this.okText(),cancelText:this.cancelText(),onOk:this.handleOk,onCancel:this.handleCancel,okButtonProps:Dt({size:"large",loading:t},this.getOkProps()),cancelButtonProps:Dt({size:"large",type:"text"},this.getCancelProps()),centered:!0},this.modalProps()),this.content())}}])&&Gt(t.prototype,n),r&&Gt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(b.Z);Kt.propTypes={onOk:E().func,onCancel:E().func},Kt.defaultProps={onOk:function(){},onCancel:function(){}};const qt=Kt,Vt="zg7lnDf1qMivuyxz8rdy",Ut="PueFjI4cqsP3QrkujIkQ",Wt="JhiR6a1Na7O6hEDrDq7Y",Xt="_uCywqlBBfrXTr8kb7n5",Ht="PcLPy_K5FMLrVxt16Xhw",en="T2aOvVeCQVSdfBpTvaO3";function tn(e){return tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tn(e)}function nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ln(r.key),r)}}function rn(e,t){return rn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rn(e,t)}function on(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cn(e);if(t){var o=cn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===tn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return an(e)}(this,n)}}function an(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cn(e){return cn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cn(e)}function un(e,t,n){return(t=ln(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ln(e){var t=function(e,t){if("object"!=tn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tn(t)?t:String(t)}var sn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rn(e,t)}(i,e);var t,n,r,a=on(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return un(an(e=a.call.apply(a,[this].concat(n))),"state",{saved:!1,error:!1,loading:!1,saving:!1}),un(an(e),"isOpen",(function(){return e.props.isOpen})),un(an(e),"handleCancel",(function(){(0,C.gd)()})),un(an(e),"modalProps",(function(){return{footer:null,width:Lt}})),un(an(e),"title",(function(){return(0,y.Yg)("metakeys")})),un(an(e),"handleAdd",(function(){(0,C.dj)()})),un(an(e),"buttonAdd",(function(){return o.createElement(d.ZP,{type:"default",size:"large",icon:o.createElement(Yt.Z,null),onClick:e.handleAdd},(0,y.Yg)("add-metakey"))})),un(an(e),"handleDelete",(function(e){return function(){(0,C.ry)(e._id)}})),un(an(e),"columns",(function(){return[{align:"center",title:(0,y.Yg)("actions"),render:function(t,n){return o.createElement(d.ZP,{danger:!0,block:!0,onClick:e.handleDelete(n)},(0,y.Yg)("delete"))}},{align:"center",title:(0,y.Yg)("keyvalue"),render:function(e,t){return o.createElement("input",{value:t.value,className:Wt,onChange:function(e){(0,C.pu)(t._id,"value",e.target.value)}})}},{align:"center",title:(0,y.Yg)("keyname"),render:function(e,t){return o.createElement("input",{value:t.name,className:Wt,onChange:function(e){(0,C.pu)(t._id,"name",e.target.value)}})}}]})),un(an(e),"source",(function(){return e.props.items})),un(an(e),"table",(function(){return o.createElement(F.Z,{rowKey:"id",columns:e.columns(),dataSource:e.source(),pagination:e.getPaginationConfig(),className:Ut})})),un(an(e),"handleSave",(function(){e.setState({error:!1,saving:!0},(function(){(0,C.oe)().then((function(t){e.setState({saved:!0},(function(){setTimeout((function(){e.setState({saved:!1})}),1500)}))})).finally((function(){e.setState({saving:!1})}))}))})),un(an(e),"buttonSave",(function(){var t=e.state.saving;return o.createElement(d.ZP,{type:"primary",size:"large",icon:o.createElement(v.Z,null),block:!0,className:Xt,onClick:e.handleSave,loading:t},(0,y.Yg)("save"))})),un(an(e),"alert",(function(){return o.createElement(w.Z,{type:"info",message:(0,y.Yg)("pmk-hints"),className:en})})),un(an(e),"content",(function(){var t=e.state.saved;return o.createElement("div",{className:Vt},e.alert(),e.buttonAdd(),e.table(),t&&o.createElement(ft,{className:Ht}),e.buttonSave())})),e}return t=i,n&&nn(t.prototype,n),r&&nn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(qt);const fn=(0,c.$j)((function(e){var t;return{isOpen:"metakeys"===e[(0,C.YO)()].modal,items:null===(t=e[(0,C.YO)()])||void 0===t||null===(t=t.metakeys)||void 0===t?void 0:t.items}}))(sn);var pn=n(5592);const yn={button:"spSE3tvx1drXMqqfK4u3",alert:"pvYtwhThCTKCuNtGFgI5"};var hn=n(342);const mn="s5BtL99LSxRNikJqYU0w",dn="p6EUlEo1RbDNgJYHMgOs",vn="R9d6m4ABqognd84GBL4J";function bn(e){return bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bn(e)}function gn(e){return function(e){if(Array.isArray(e))return Pn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||jn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wn(){wn=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new Z(r||[]);return o(i,"_invoke",{value:k(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",y="suspendedYield",h="executing",m="completed",d={};function v(){}function b(){}function g(){}var w={};l(w,i,(function(){return this}));var O=Object.getPrototypeOf,E=O&&O(O(T([])));E&&E!==n&&r.call(E,i)&&(w=E);var j=g.prototype=v.prototype=Object.create(w);function P(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,a,i,c){var u=f(e[o],e,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==bn(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function k(t,n,r){var o=p;return function(a,i){if(o===h)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var u=_(c,r);if(u){if(u===d)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=f(t,n,r);if("normal"===l.type){if(o=r.done?m:y,l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=m,r.method="throw",r.arg=l.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var a=f(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,d;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,d):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Z(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(bn(t)+" is not iterable")}return b.prototype=g,o(j,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=l(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,u,"GeneratorFunction")),e.prototype=Object.create(j),e},t.awrap=function(e){return{__await:e}},P(S.prototype),l(S.prototype,c,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new S(s(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},P(j),l(j,u,"Generator"),l(j,i,(function(){return this})),l(j,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,Z.prototype={constructor:Z,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;N(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),d}},t}function On(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function En(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||jn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jn(e,t){if(e){if("string"==typeof e)return Pn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pn(e,t):void 0}}function Pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Sn=(0,y.FP)(),kn=function(e){var t=En((0,o.useState)(!1),2),n=t[0],r=t[1],a=e.onCheck,i=e.checkedKeys,c=e.onLoad,u=En((0,o.useState)([]),2),l=u[0],s=u[1];(0,o.useEffect)((function(){f()}),[]);var f=function(){var e,t=(e=wn().mark((function e(){var t,n;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,Sn.get((0,y.$g)(),{params:{action:"pubjet-categories",security:(0,y.bN)()}});case 3:t=e.sent,r(!1),c(),n=p(t.payload),s(n);case 8:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){On(a,r,o,i,c,"next",e)}function c(e){On(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),p=function(e){var t={};return e.forEach((function(e){t[e.id]={key:e.id,title:e.name,children:[]}})),Object.values(t)};return o.createElement("div",{className:dn},o.createElement(m.Z,{spinning:n,className:vn},o.createElement(hn.Z,{className:mn,checkable:!0,treeData:l,checkedKeys:i.map((function(e){return Number(e)})),onSelect:function(e,t){var n=t.node.key,r=i.includes(n)?i.filter((function(e){return e!==n})):[].concat(gn(i),[n]);a(r)},onCheck:a})))};kn.defaultProps={onCheck:E().func,onLoad:E().func,checkedKeys:E().array},kn.defaultProps={checkedKeys:[],onCheck:function(){},onLoad:function(){}};const _n=kn;function xn(e){return xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xn(e)}function Nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,In(r.key),r)}}function Zn(e,t){return Zn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zn(e,t)}function Tn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yn(e);if(t){var o=Yn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===xn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Cn(e)}(this,n)}}function Cn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yn(e){return Yn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yn(e)}function Ln(e,t,n){return(t=In(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function In(e){var t=function(e,t){if("object"!=xn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xn(t)?t:String(t)}var Rn=(0,y.FP)(),An=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zn(e,t)}(i,e);var t,n,r,a=Tn(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ln(Cn(e=a.call.apply(a,[this].concat(n))),"state",{error:!1,loaded:!1,syncing:!1,categories:[],saved:!1}),Ln(Cn(e),"alert",(function(){return o.createElement(w.Z,{type:"info",banner:!1,showIcon:!1,description:(0,y.Yg)("select-categories-hints"),className:yn.alert})})),Ln(Cn(e),"handleSync",(function(){var t=e.state.categories;e.setState({error:!1,syncing:!0},(function(){Rn.post((0,y.$g)(),{action:"pubjet-sync-categories",categories:Array.isArray(t)?t.join(","):"",security:(0,y.bN)()}).then((function(t){t.success?e.setState({saved:!0},(function(){setTimeout((function(){e.setState({saved:!1})}),2500)})):e.setState({error:t.error})})).catch((function(t){e.setState({error:t.message})})).finally((function(){e.setState({syncing:!1})}))}))})),e}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this.props.options.categories,t=void 0===e?[]:e;t=Array.isArray(t)?t:t.split(","),this.setState({categories:t})}},{key:"render",value:function(){var e=this,t=this.state,n=t.loaded,r=t.syncing,a=t.categories,i=t.saved;return o.createElement("div",{className:yn.wrapper},this.alert(),o.createElement(_n,{checkedKeys:a,onLoad:function(){e.setState({loaded:!0})},onCheck:function(t){e.setState({categories:t})}}),o.createElement(S,{saved:i}),n&&o.createElement(d.ZP,{type:"primary",size:"large",onClick:this.handleSync,icon:o.createElement(pn.Z,null),className:yn.button,loading:r},(0,y.Yg)("sync-categories")))}}])&&Nn(t.prototype,n),r&&Nn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(b.Z);const Bn=(0,c.$j)((function(e){return{options:e.options}}))(An),Dn="aJwecFtJwpZ9KPUAQxuz",Gn="O4i3woo8GOz_saUYISDJ",Fn="w7SeCVYIRtUjETJWNj3U",zn="wDzjdp1cG7teTMiva7cr",Mn="lkIAaecY9huNgcI39VY1",Qn="P90mjNz6QI8AgnEjpAbc";function $n(e){return $n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$n(e)}function Jn(){Jn=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new Z(r||[]);return o(i,"_invoke",{value:k(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",y="suspendedYield",h="executing",m="completed",d={};function v(){}function b(){}function g(){}var w={};l(w,i,(function(){return this}));var O=Object.getPrototypeOf,E=O&&O(O(T([])));E&&E!==n&&r.call(E,i)&&(w=E);var j=g.prototype=v.prototype=Object.create(w);function P(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,a,i,c){var u=f(e[o],e,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==$n(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function k(t,n,r){var o=p;return function(a,i){if(o===h)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var u=_(c,r);if(u){if(u===d)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=f(t,n,r);if("normal"===l.type){if(o=r.done?m:y,l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=m,r.method="throw",r.arg=l.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var a=f(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,d;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,d):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Z(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError($n(t)+" is not iterable")}return b.prototype=g,o(j,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=l(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,u,"GeneratorFunction")),e.prototype=Object.create(j),e},t.awrap=function(e){return{__await:e}},P(S.prototype),l(S.prototype,c,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new S(s(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},P(j),l(j,u,"Generator"),l(j,i,(function(){return this})),l(j,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,Z.prototype={constructor:Z,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;N(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),d}},t}function Kn(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function qn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Kn(a,r,o,i,c,"next",e)}function c(e){Kn(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tr(r.key),r)}}function Un(e,t){return Un=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Un(e,t)}function Wn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Hn(e);if(t){var o=Hn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===$n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Xn(e)}(this,n)}}function Xn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hn(e){return Hn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hn(e)}function er(e,t,n){return(t=tr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tr(e){var t=function(e,t){if("object"!=$n(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$n(t)?t:String(t)}var nr=(0,y.FP)(),rr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Un(e,t)}(i,e);var t,n,r,a=Wn(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return er(Xn(e=a.call.apply(a,[this].concat(n))),"state",{authors:[],saved:!1,error:!1,loading:!1,saving:!1,authorId:!1}),er(Xn(e),"fetchAuthors",(function(){e.setState({error:!1,loading:!0},qn(Jn().mark((function t(){var n;return Jn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,nr.get((0,y.$g)(),{params:{action:"pubjet-find-authors",security:(0,y.bN)()}});case 3:(n=t.sent).success&&e.setState({authors:n.payload}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.setState({error:t.t0.message});case 10:return t.prev=10,e.setState({loading:!1}),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,7,10,13]])}))))})),er(Xn(e),"isOpen",(function(){return e.props.isOpen})),er(Xn(e),"handleCancel",(function(){(0,C.gd)()})),er(Xn(e),"modalProps",(function(){return{footer:null,width:Lt}})),er(Xn(e),"title",(function(){return(0,y.Yg)("select-rep-author")})),er(Xn(e),"columns",(function(){return[{title:(0,y.Yg)("username"),render:function(e,t){return t.user_login}},{title:(0,y.Yg)("displayname"),render:function(e,t){return t.display_name}}]})),er(Xn(e),"source",(function(){return e.state.authors})),er(Xn(e),"table",(function(){var t=e.state,n=t.loading,r=t.authorId;return o.createElement(m.Z,{spinning:n},o.createElement(F.Z,{rowKey:"ID",columns:e.columns(),dataSource:e.source(),pagination:e.getPaginationConfig(),className:Gn,rowClassName:Qn,rowSelection:{type:"radio",selectedRowKeys:r?[Number(r)]:[],onChange:function(t,n){e.setState({authorId:t[0]})}},onRow:function(t){return{onClick:function(){e.setState({authorId:t.ID})}}}}))})),er(Xn(e),"handleSave",(function(){e.setState({error:!1,saving:!0},qn(Jn().mark((function t(){var n;return Jn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,nr.post((0,y.$g)(),{action:"pubjet-save-reportage-author",authorId:e.state.authorId,security:(0,y.bN)()});case 3:(n=t.sent).success?e.setState({saved:!0},(function(){(0,C.iA)("authorId",e.state.authorId)})):e.setState({error:n.error}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.setState({error:t.t0.message});case 10:return t.prev=10,e.setState({saving:!1}),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,7,10,13]])}))))})),er(Xn(e),"buttonSave",(function(){var t=e.state.saving;return o.createElement(d.ZP,{type:"primary",size:"large",icon:o.createElement(v.Z,null),block:!0,className:Fn,onClick:e.handleSave,loading:t},(0,y.Yg)("save"))})),er(Xn(e),"alert",(function(){return o.createElement(w.Z,{type:"info",message:(0,y.Yg)("select-rep-author-hints"),className:Mn})})),er(Xn(e),"content",(function(){var t=e.state.saved;return o.createElement("div",{className:Dn},e.table(),t&&o.createElement(ft,{className:zn}),e.buttonSave())})),e}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this;this.setState({authorId:this.props.authorId},(function(){e.fetchAuthors()}))}}])&&Vn(t.prototype,n),r&&Vn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(qt);const or=(0,c.$j)((function(e){var t;return{isOpen:"repauthor"===e[(0,C.YO)()].modal,authorId:null===(t=e[(0,C.YO)()])||void 0===t||null===(t=t.repauthor)||void 0===t?void 0:t.authorId}}))(rr);const ar=(0,c.$j)((function(e){return{options:e.options}}))((function(e){return o.createElement("div",{className:a},o.createElement(h,null),o.createElement(r.Z,{defaultActiveKey:"general",rootClassName:i,items:[{key:"general",label:(0,y.Yg)("general"),children:o.createElement(Ie,null)},{key:"categories",label:(0,y.Yg)("sync"),children:o.createElement(Bn,null)},{key:"debug",label:(0,y.Yg)("debug"),children:o.createElement(nt,null)},{key:"required-php-modules",label:(0,y.Yg)("modules"),children:o.createElement(Ct,null)},{key:"misc",label:(0,y.Yg)("advanced"),children:o.createElement(ht,null)}]}),o.createElement(fn,null),o.createElement(or,null))}))}}]);